{"ast":null,"code":"import{useEffect,useState}from\"react\";import{collection,getDocs}from\"firebase/firestore\";import{db}from\"../firebase\";import{topics}from\"../data/topics\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Leaderboard(){const[users,setUsers]=useState([]);useEffect(()=>{const loadLeaderboard=async()=>{const snapshot=await getDocs(collection(db,\"users\"));const data=snapshot.docs.map(doc=>{const progress=doc.data().progress||{};const score=Object.values(progress).filter(Boolean).length;return{id:doc.id,name:doc.data().name,score};});setUsers(data.sort((a,b)=>b.score-a.score));};loadLeaderboard();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-white via-blue-50 to-purple-100 p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-center mb-6 text-blue-900\",children:\"Leaderboard\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4 max-w-4xl mx-auto\",children:users.map((user,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-md rounded-lg p-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"font-bold text-lg text-gray-800\",children:[index+1,\". \",user.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-green-600\",children:[\"Progress: \",Math.round(user.score/topics.length*100),\"%\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition\",onClick:()=>alert(\"Chat with \".concat(user.name,\" (Coming soon!)\")),children:\"Chat \\uD83D\\uDCAC\"})]},index))})]});}","map":{"version":3,"names":["useEffect","useState","collection","getDocs","db","topics","jsx","_jsx","jsxs","_jsxs","Leaderboard","users","setUsers","loadLeaderboard","snapshot","data","docs","map","doc","progress","score","Object","values","filter","Boolean","length","id","name","sort","a","b","className","children","user","index","Math","round","onClick","alert","concat"],"sources":["C:/Users/hp/Downloads/faceprep-clone/src/pages/Leaderboard.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\nimport { topics } from \"../data/topics\";\n\nexport default function Leaderboard() {\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    const loadLeaderboard = async () => {\n      const snapshot = await getDocs(collection(db, \"users\"));\n      const data = snapshot.docs.map((doc) => {\n        const progress = doc.data().progress || {};\n        const score = Object.values(progress).filter(Boolean).length;\n        return { id: doc.id, name: doc.data().name, score };\n      });\n      setUsers(data.sort((a, b) => b.score - a.score));\n    };\n    loadLeaderboard();\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-white via-blue-50 to-purple-100 p-6\">\n      <h1 className=\"text-3xl font-bold text-center mb-6 text-blue-900\">Leaderboard</h1>\n      <div className=\"grid gap-4 max-w-4xl mx-auto\">\n        {users.map((user, index) => (\n          <div\n            key={index}\n            className=\"bg-white shadow-md rounded-lg p-4 flex items-center justify-between\"\n          >\n            <div>\n              <h2 className=\"font-bold text-lg text-gray-800\">\n                {index + 1}. {user.name}\n              </h2>\n              <p className=\"text-green-600\">\n                Progress: {Math.round((user.score / topics.length) * 100)}%\n              </p>\n            </div>\n            <button\n              className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition\"\n              onClick={() => alert(`Chat with ${user.name} (Coming soon!)`)}\n            >\n              Chat ðŸ’¬\n            </button>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,UAAU,CAAEC,OAAO,KAAQ,oBAAoB,CACxD,OAASC,EAAE,KAAQ,aAAa,CAChC,OAASC,MAAM,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,cAAe,SAAS,CAAAC,WAAWA,CAAA,CAAG,CACpC,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAEtCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAX,OAAO,CAACD,UAAU,CAACE,EAAE,CAAE,OAAO,CAAC,CAAC,CACvD,KAAM,CAAAW,IAAI,CAAGD,QAAQ,CAACE,IAAI,CAACC,GAAG,CAAEC,GAAG,EAAK,CACtC,KAAM,CAAAC,QAAQ,CAAGD,GAAG,CAACH,IAAI,CAAC,CAAC,CAACI,QAAQ,EAAI,CAAC,CAAC,CAC1C,KAAM,CAAAC,KAAK,CAAGC,MAAM,CAACC,MAAM,CAACH,QAAQ,CAAC,CAACI,MAAM,CAACC,OAAO,CAAC,CAACC,MAAM,CAC5D,MAAO,CAAEC,EAAE,CAAER,GAAG,CAACQ,EAAE,CAAEC,IAAI,CAAET,GAAG,CAACH,IAAI,CAAC,CAAC,CAACY,IAAI,CAAEP,KAAM,CAAC,CACrD,CAAC,CAAC,CACFR,QAAQ,CAACG,IAAI,CAACa,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKA,CAAC,CAACV,KAAK,CAAGS,CAAC,CAACT,KAAK,CAAC,CAAC,CAClD,CAAC,CACDP,eAAe,CAAC,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEJ,KAAA,QAAKsB,SAAS,CAAC,yEAAyE,CAAAC,QAAA,eACtFzB,IAAA,OAAIwB,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAAC,aAAW,CAAI,CAAC,cAClFzB,IAAA,QAAKwB,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAC1CrB,KAAK,CAACM,GAAG,CAAC,CAACgB,IAAI,CAAEC,KAAK,gBACrBzB,KAAA,QAEEsB,SAAS,CAAC,qEAAqE,CAAAC,QAAA,eAE/EvB,KAAA,QAAAuB,QAAA,eACEvB,KAAA,OAAIsB,SAAS,CAAC,iCAAiC,CAAAC,QAAA,EAC5CE,KAAK,CAAG,CAAC,CAAC,IAAE,CAACD,IAAI,CAACN,IAAI,EACrB,CAAC,cACLlB,KAAA,MAAGsB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAAC,YAClB,CAACG,IAAI,CAACC,KAAK,CAAEH,IAAI,CAACb,KAAK,CAAGf,MAAM,CAACoB,MAAM,CAAI,GAAG,CAAC,CAAC,GAC5D,EAAG,CAAC,EACD,CAAC,cACNlB,IAAA,WACEwB,SAAS,CAAC,uEAAuE,CACjFM,OAAO,CAAEA,CAAA,GAAMC,KAAK,cAAAC,MAAA,CAAcN,IAAI,CAACN,IAAI,mBAAiB,CAAE,CAAAK,QAAA,CAC/D,mBAED,CAAQ,CAAC,GAhBJE,KAiBF,CACN,CAAC,CACC,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}