{"ast":null,"code":"import _objectSpread from\"C:/Users/hp/Downloads/faceprep-clone/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect,useRef}from\"react\";import{db}from\"../firebase\";import{collection,addDoc,serverTimestamp,query,orderBy,onSnapshot,where,getDocs,setDoc,doc}from\"firebase/firestore\";import{Link}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ChatRoom(){const[message,setMessage]=useState(\"\");const[messages,setMessages]=useState([]);const[chatMode,setChatMode]=useState(\"global\");const[selectedUser,setSelectedUser]=useState(\"\");const[users,setUsers]=useState([]);const[typingUsers,setTypingUsers]=useState([]);const userName=localStorage.getItem(\"name\")||\"Anonymous\";const scrollRef=useRef(null);useEffect(()=>{const q=query(collection(db,\"messages\"),where(\"mode\",\"==\",chatMode),...(chatMode!==\"global\"?[where(\"participants\",\"array-contains\",userName)]:[]),orderBy(\"createdAt\"));const unsubscribe=onSnapshot(q,snapshot=>{const msgs=snapshot.docs.map(doc=>_objectSpread({id:doc.id},doc.data()));setMessages(msgs);playNotification(msgs[msgs.length-1]);});return()=>unsubscribe();},[chatMode,selectedUser]);useEffect(()=>{const fetchUsers=async()=>{const res=await getDocs(collection(db,\"users\"));const others=res.docs.map(doc=>doc.data().name).filter(name=>name!==userName);setUsers(others);};fetchUsers();},[]);useEffect(()=>{const typingRef=collection(db,\"typing\");const unsub=onSnapshot(typingRef,snapshot=>{const typing=snapshot.docs.map(doc=>doc.id).filter(name=>name!==userName);setTypingUsers(typing);});return()=>unsub();},[]);const handleSend=async e=>{e.preventDefault();if(!message.trim())return;const newMessage={text:message.trim(),sender:userName,createdAt:serverTimestamp(),mode:chatMode,participants:chatMode===\"global\"?[]:[userName,selectedUser]};await addDoc(collection(db,\"messages\"),newMessage);await setDoc(doc(db,\"typing\",userName),{typing:false});setMessage(\"\");};const handleTyping=async text=>{setMessage(text);await setDoc(doc(db,\"typing\",userName),{typing:!!text.trim()});};const playNotification=msg=>{if((msg===null||msg===void 0?void 0:msg.sender)!==userName){const audio=new Audio(\"https://notificationsounds.com/notification-sounds/pop-1-16529/download/mp3\");audio.play().catch(()=>{});}};const getAvatar=name=>{const colors=[\"bg-red-400\",\"bg-blue-400\",\"bg-green-400\",\"bg-yellow-400\",\"bg-purple-400\"];const color=colors[name.charCodeAt(0)%colors.length];return/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 flex items-center justify-center rounded-full text-white font-bold \".concat(color),children:name[0].toUpperCase()});};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-sky-100 via-purple-100 to-pink-100 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-3xl mx-auto bg-white rounded-lg shadow-md p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-blue-800\",children:chatMode===\"global\"?\"🌐 Global Chat Room\":\"\\uD83D\\uDCAC Chat with \".concat(selectedUser)}),/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",className:\"text-sm underline text-blue-500\",children:\"\\u2190 Back to Dashboard\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-1\",children:\"Select Chat Mode\"}),/*#__PURE__*/_jsxs(\"select\",{value:chatMode,onChange:e=>{setChatMode(e.target.value);setSelectedUser(\"\");},className:\"p-2 border rounded w-full\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"global\",children:\"Global Chat\"}),/*#__PURE__*/_jsx(\"option\",{value:\"private\",children:\"One-on-One\"})]}),chatMode===\"private\"&&/*#__PURE__*/_jsxs(\"select\",{className:\"p-2 border rounded w-full mt-2\",value:selectedUser,onChange:e=>setSelectedUser(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select User\"}),users.map((name,idx)=>/*#__PURE__*/_jsx(\"option\",{value:name,children:name},idx))]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-80 overflow-y-auto bg-gray-100 p-3 rounded mb-4\",ref:scrollRef,children:messages.map(msg=>/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2 flex \".concat(msg.sender===userName?\"justify-end\":\"justify-start\"),children:[msg.sender!==userName&&getAvatar(msg.sender),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-2 p-2 rounded-md \".concat(msg.sender===userName?\"bg-blue-200 text-right\":\"bg-gray-200 text-left\"),style:{maxWidth:\"70%\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-semibold text-gray-800\",children:msg.sender}),/*#__PURE__*/_jsx(\"div\",{className:\"text-md\",children:msg.text})]})]},msg.id))}),typingUsers.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 mb-2\",children:[typingUsers.join(\", \"),\" typing...\"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSend,className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{value:message,onChange:e=>handleTyping(e.target.value),placeholder:\"Type your message...\",className:\"flex-1 border rounded p-2\"}),/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\",children:\"Send\"})]})]})});}","map":{"version":3,"names":["useState","useEffect","useRef","db","collection","addDoc","serverTimestamp","query","orderBy","onSnapshot","where","getDocs","setDoc","doc","Link","jsx","_jsx","jsxs","_jsxs","ChatRoom","message","setMessage","messages","setMessages","chatMode","setChatMode","selectedUser","setSelectedUser","users","setUsers","typingUsers","setTypingUsers","userName","localStorage","getItem","scrollRef","q","unsubscribe","snapshot","msgs","docs","map","_objectSpread","id","data","playNotification","length","fetchUsers","res","others","name","filter","typingRef","unsub","typing","handleSend","e","preventDefault","trim","newMessage","text","sender","createdAt","mode","participants","handleTyping","msg","audio","Audio","play","catch","getAvatar","colors","color","charCodeAt","className","concat","children","toUpperCase","to","value","onChange","target","idx","ref","style","maxWidth","join","onSubmit","placeholder"],"sources":["C:/Users/hp/Downloads/faceprep-clone/src/pages/ChatRoom.jsx"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\nimport { db } from \"../firebase\";\nimport {\n  collection,\n  addDoc,\n  serverTimestamp,\n  query,\n  orderBy,\n  onSnapshot,\n  where,\n  getDocs,\n  setDoc,\n  doc\n} from \"firebase/firestore\";\nimport { Link } from \"react-router-dom\";\n\nexport default function ChatRoom() {\n  const [message, setMessage] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  const [chatMode, setChatMode] = useState(\"global\");\n  const [selectedUser, setSelectedUser] = useState(\"\");\n  const [users, setUsers] = useState([]);\n  const [typingUsers, setTypingUsers] = useState([]);\n  const userName = localStorage.getItem(\"name\") || \"Anonymous\";\n  const scrollRef = useRef(null);\n\n  useEffect(() => {\n    const q = query(\n      collection(db, \"messages\"),\n      where(\"mode\", \"==\", chatMode),\n      ...(chatMode !== \"global\"\n        ? [where(\"participants\", \"array-contains\", userName)]\n        : []),\n      orderBy(\"createdAt\")\n    );\n    const unsubscribe = onSnapshot(q, (snapshot) => {\n      const msgs = snapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\n      setMessages(msgs);\n      playNotification(msgs[msgs.length - 1]);\n    });\n    return () => unsubscribe();\n  }, [chatMode, selectedUser]);\n\n  useEffect(() => {\n    const fetchUsers = async () => {\n      const res = await getDocs(collection(db, \"users\"));\n      const others = res.docs\n        .map((doc) => doc.data().name)\n        .filter((name) => name !== userName);\n      setUsers(others);\n    };\n    fetchUsers();\n  }, []);\n\n  useEffect(() => {\n    const typingRef = collection(db, \"typing\");\n    const unsub = onSnapshot(typingRef, (snapshot) => {\n      const typing = snapshot.docs\n        .map((doc) => doc.id)\n        .filter((name) => name !== userName);\n      setTypingUsers(typing);\n    });\n    return () => unsub();\n  }, []);\n\n  const handleSend = async (e) => {\n    e.preventDefault();\n    if (!message.trim()) return;\n\n    const newMessage = {\n      text: message.trim(),\n      sender: userName,\n      createdAt: serverTimestamp(),\n      mode: chatMode,\n      participants: chatMode === \"global\" ? [] : [userName, selectedUser],\n    };\n\n    await addDoc(collection(db, \"messages\"), newMessage);\n    await setDoc(doc(db, \"typing\", userName), { typing: false });\n    setMessage(\"\");\n  };\n\n  const handleTyping = async (text) => {\n    setMessage(text);\n    await setDoc(doc(db, \"typing\", userName), { typing: !!text.trim() });\n  };\n\n  const playNotification = (msg) => {\n    if (msg?.sender !== userName) {\n      const audio = new Audio(\"https://notificationsounds.com/notification-sounds/pop-1-16529/download/mp3\");\n      audio.play().catch(() => {});\n    }\n  };\n\n  const getAvatar = (name) => {\n    const colors = [\"bg-red-400\", \"bg-blue-400\", \"bg-green-400\", \"bg-yellow-400\", \"bg-purple-400\"];\n    const color = colors[name.charCodeAt(0) % colors.length];\n    return (\n      <div className={`w-8 h-8 flex items-center justify-center rounded-full text-white font-bold ${color}`}>\n        {name[0].toUpperCase()}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-sky-100 via-purple-100 to-pink-100 p-4\">\n      <div className=\"max-w-3xl mx-auto bg-white rounded-lg shadow-md p-4\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h2 className=\"text-2xl font-bold text-blue-800\">\n            {chatMode === \"global\"\n              ? \"🌐 Global Chat Room\"\n              : `💬 Chat with ${selectedUser}`}\n          </h2>\n          <Link to=\"/dashboard\" className=\"text-sm underline text-blue-500\">\n            ← Back to Dashboard\n          </Link>\n        </div>\n\n        <div className=\"mb-4\">\n          <label className=\"block text-sm font-semibold text-gray-700 mb-1\">\n            Select Chat Mode\n          </label>\n          <select\n            value={chatMode}\n            onChange={(e) => {\n              setChatMode(e.target.value);\n              setSelectedUser(\"\");\n            }}\n            className=\"p-2 border rounded w-full\"\n          >\n            <option value=\"global\">Global Chat</option>\n            <option value=\"private\">One-on-One</option>\n          </select>\n\n          {chatMode === \"private\" && (\n            <select\n              className=\"p-2 border rounded w-full mt-2\"\n              value={selectedUser}\n              onChange={(e) => setSelectedUser(e.target.value)}\n            >\n              <option value=\"\">Select User</option>\n              {users.map((name, idx) => (\n                <option key={idx} value={name}>\n                  {name}\n                </option>\n              ))}\n            </select>\n          )}\n        </div>\n\n        <div className=\"h-80 overflow-y-auto bg-gray-100 p-3 rounded mb-4\" ref={scrollRef}>\n          {messages.map((msg) => (\n            <div\n              key={msg.id}\n              className={`mb-2 flex ${\n                msg.sender === userName ? \"justify-end\" : \"justify-start\"\n              }`}\n            >\n              {msg.sender !== userName && getAvatar(msg.sender)}\n              <div\n                className={`ml-2 p-2 rounded-md ${\n                  msg.sender === userName\n                    ? \"bg-blue-200 text-right\"\n                    : \"bg-gray-200 text-left\"\n                }`}\n                style={{ maxWidth: \"70%\" }}\n              >\n                <div className=\"text-sm font-semibold text-gray-800\">\n                  {msg.sender}\n                </div>\n                <div className=\"text-md\">{msg.text}</div>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {typingUsers.length > 0 && (\n          <div className=\"text-sm text-gray-600 mb-2\">\n            {typingUsers.join(\", \")} typing...\n          </div>\n        )}\n\n        <form onSubmit={handleSend} className=\"flex space-x-2\">\n          <input\n            value={message}\n            onChange={(e) => handleTyping(e.target.value)}\n            placeholder=\"Type your message...\"\n            className=\"flex-1 border rounded p-2\"\n          />\n          <button className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\">\n            Send\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}