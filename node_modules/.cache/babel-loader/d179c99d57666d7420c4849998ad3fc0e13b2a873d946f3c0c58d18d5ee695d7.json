{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\faceprep-clone\\\\src\\\\pages\\\\ChatRoom.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from \"react\";\nimport { db } from \"../firebase\";\nimport { collection, addDoc, serverTimestamp, query, orderBy, onSnapshot, where, getDocs, setDoc, doc } from \"firebase/firestore\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ChatRoom() {\n  _s();\n  const [message, setMessage] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  const [chatMode, setChatMode] = useState(\"global\");\n  const [selectedUser, setSelectedUser] = useState(\"\");\n  const [users, setUsers] = useState([]);\n  const [typingUsers, setTypingUsers] = useState([]);\n  const userName = localStorage.getItem(\"name\") || \"Anonymous\";\n  const scrollRef = useRef(null);\n  useEffect(() => {\n    const q = query(collection(db, \"messages\"), where(\"mode\", \"==\", chatMode), ...(chatMode !== \"global\" ? [where(\"participants\", \"array-contains\", userName)] : []), orderBy(\"createdAt\"));\n    const unsubscribe = onSnapshot(q, snapshot => {\n      const msgs = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setMessages(msgs);\n      playNotification(msgs[msgs.length - 1]);\n    });\n    return () => unsubscribe();\n  }, [chatMode, selectedUser]);\n  useEffect(() => {\n    const fetchUsers = async () => {\n      const res = await getDocs(collection(db, \"users\"));\n      const others = res.docs.map(doc => doc.data().name).filter(name => name !== userName);\n      setUsers(others);\n    };\n    fetchUsers();\n  }, []);\n  useEffect(() => {\n    const typingRef = collection(db, \"typing\");\n    const unsub = onSnapshot(typingRef, snapshot => {\n      const typing = snapshot.docs.map(doc => doc.id).filter(name => name !== userName);\n      setTypingUsers(typing);\n    });\n    return () => unsub();\n  }, []);\n  const handleSend = async e => {\n    e.preventDefault();\n    if (!message.trim()) return;\n    const newMessage = {\n      text: message.trim(),\n      sender: userName,\n      createdAt: serverTimestamp(),\n      mode: chatMode,\n      participants: chatMode === \"global\" ? [] : [userName, selectedUser]\n    };\n    await addDoc(collection(db, \"messages\"), newMessage);\n    await setDoc(doc(db, \"typing\", userName), {\n      typing: false\n    });\n    setMessage(\"\");\n  };\n  const handleTyping = async text => {\n    setMessage(text);\n    await setDoc(doc(db, \"typing\", userName), {\n      typing: !!text.trim()\n    });\n  };\n  const playNotification = msg => {\n    if ((msg === null || msg === void 0 ? void 0 : msg.sender) !== userName) {\n      const audio = new Audio(\"https://notificationsounds.com/notification-sounds/pop-1-16529/download/mp3\");\n      audio.play().catch(() => {});\n    }\n  };\n  const getAvatar = name => {\n    const colors = [\"bg-red-400\", \"bg-blue-400\", \"bg-green-400\", \"bg-yellow-400\", \"bg-purple-400\"];\n    const color = colors[name.charCodeAt(0) % colors.length];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `w-8 h-8 flex items-center justify-center rounded-full text-white font-bold ${color}`,\n      children: name[0].toUpperCase()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-sky-100 via-purple-100 to-pink-100 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-3xl mx-auto bg-white rounded-lg shadow-md p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-blue-800\",\n          children: chatMode === \"global\" ? \"üåê Global Chat Room\" : `üí¨ Chat with ${selectedUser}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/dashboard\",\n          className: \"text-sm underline text-blue-500\",\n          children: \"\\u2190 Back to Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-semibold text-gray-700 mb-1\",\n          children: \"Select Chat Mode\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: chatMode,\n          onChange: e => {\n            setChatMode(e.target.value);\n            setSelectedUser(\"\");\n          },\n          className: \"p-2 border rounded w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"global\",\n            children: \"Global Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"private\",\n            children: \"One-on-One\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), chatMode === \"private\" && /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"p-2 border rounded w-full mt-2\",\n          value: selectedUser,\n          onChange: e => setSelectedUser(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 15\n          }, this), users.map((name, idx) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: name,\n            children: name\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-80 overflow-y-auto bg-gray-100 p-3 rounded mb-4\",\n        ref: scrollRef,\n        children: messages.map(msg => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `mb-2 flex ${msg.sender === userName ? \"justify-end\" : \"justify-start\"}`,\n          children: [msg.sender !== userName && getAvatar(msg.sender), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `ml-2 p-2 rounded-md ${msg.sender === userName ? \"bg-blue-200 text-right\" : \"bg-gray-200 text-left\"}`,\n            style: {\n              maxWidth: \"70%\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm font-semibold text-gray-800\",\n              children: msg.sender\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-md\",\n              children: msg.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this)]\n        }, msg.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), typingUsers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600 mb-2\",\n        children: [typingUsers.join(\", \"), \" typing...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSend,\n        className: \"flex space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: message,\n          onChange: e => handleTyping(e.target.value),\n          placeholder: \"Type your message...\",\n          className: \"flex-1 border rounded p-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\",\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatRoom, \"vP7wTbBnnL2FIuno4nxARbQdu3I=\");\n_c = ChatRoom;\nvar _c;\n$RefreshReg$(_c, \"ChatRoom\");","map":{"version":3,"names":["useState","useEffect","useRef","db","collection","addDoc","serverTimestamp","query","orderBy","onSnapshot","where","getDocs","setDoc","doc","Link","jsxDEV","_jsxDEV","ChatRoom","_s","message","setMessage","messages","setMessages","chatMode","setChatMode","selectedUser","setSelectedUser","users","setUsers","typingUsers","setTypingUsers","userName","localStorage","getItem","scrollRef","q","unsubscribe","snapshot","msgs","docs","map","id","data","playNotification","length","fetchUsers","res","others","name","filter","typingRef","unsub","typing","handleSend","e","preventDefault","trim","newMessage","text","sender","createdAt","mode","participants","handleTyping","msg","audio","Audio","play","catch","getAvatar","colors","color","charCodeAt","className","children","toUpperCase","fileName","_jsxFileName","lineNumber","columnNumber","to","value","onChange","target","idx","ref","style","maxWidth","join","onSubmit","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/hp/Downloads/faceprep-clone/src/pages/ChatRoom.jsx"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\nimport { db } from \"../firebase\";\nimport {\n  collection,\n  addDoc,\n  serverTimestamp,\n  query,\n  orderBy,\n  onSnapshot,\n  where,\n  getDocs,\n  setDoc,\n  doc\n} from \"firebase/firestore\";\nimport { Link } from \"react-router-dom\";\n\nexport default function ChatRoom() {\n  const [message, setMessage] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  const [chatMode, setChatMode] = useState(\"global\");\n  const [selectedUser, setSelectedUser] = useState(\"\");\n  const [users, setUsers] = useState([]);\n  const [typingUsers, setTypingUsers] = useState([]);\n  const userName = localStorage.getItem(\"name\") || \"Anonymous\";\n  const scrollRef = useRef(null);\n\n  useEffect(() => {\n    const q = query(\n      collection(db, \"messages\"),\n      where(\"mode\", \"==\", chatMode),\n      ...(chatMode !== \"global\"\n        ? [where(\"participants\", \"array-contains\", userName)]\n        : []),\n      orderBy(\"createdAt\")\n    );\n    const unsubscribe = onSnapshot(q, (snapshot) => {\n      const msgs = snapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\n      setMessages(msgs);\n      playNotification(msgs[msgs.length - 1]);\n    });\n    return () => unsubscribe();\n  }, [chatMode, selectedUser]);\n\n  useEffect(() => {\n    const fetchUsers = async () => {\n      const res = await getDocs(collection(db, \"users\"));\n      const others = res.docs\n        .map((doc) => doc.data().name)\n        .filter((name) => name !== userName);\n      setUsers(others);\n    };\n    fetchUsers();\n  }, []);\n\n  useEffect(() => {\n    const typingRef = collection(db, \"typing\");\n    const unsub = onSnapshot(typingRef, (snapshot) => {\n      const typing = snapshot.docs\n        .map((doc) => doc.id)\n        .filter((name) => name !== userName);\n      setTypingUsers(typing);\n    });\n    return () => unsub();\n  }, []);\n\n  const handleSend = async (e) => {\n    e.preventDefault();\n    if (!message.trim()) return;\n\n    const newMessage = {\n      text: message.trim(),\n      sender: userName,\n      createdAt: serverTimestamp(),\n      mode: chatMode,\n      participants: chatMode === \"global\" ? [] : [userName, selectedUser],\n    };\n\n    await addDoc(collection(db, \"messages\"), newMessage);\n    await setDoc(doc(db, \"typing\", userName), { typing: false });\n    setMessage(\"\");\n  };\n\n  const handleTyping = async (text) => {\n    setMessage(text);\n    await setDoc(doc(db, \"typing\", userName), { typing: !!text.trim() });\n  };\n\n  const playNotification = (msg) => {\n    if (msg?.sender !== userName) {\n      const audio = new Audio(\"https://notificationsounds.com/notification-sounds/pop-1-16529/download/mp3\");\n      audio.play().catch(() => {});\n    }\n  };\n\n  const getAvatar = (name) => {\n    const colors = [\"bg-red-400\", \"bg-blue-400\", \"bg-green-400\", \"bg-yellow-400\", \"bg-purple-400\"];\n    const color = colors[name.charCodeAt(0) % colors.length];\n    return (\n      <div className={`w-8 h-8 flex items-center justify-center rounded-full text-white font-bold ${color}`}>\n        {name[0].toUpperCase()}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-sky-100 via-purple-100 to-pink-100 p-4\">\n      <div className=\"max-w-3xl mx-auto bg-white rounded-lg shadow-md p-4\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h2 className=\"text-2xl font-bold text-blue-800\">\n            {chatMode === \"global\"\n              ? \"üåê Global Chat Room\"\n              : `üí¨ Chat with ${selectedUser}`}\n          </h2>\n          <Link to=\"/dashboard\" className=\"text-sm underline text-blue-500\">\n            ‚Üê Back to Dashboard\n          </Link>\n        </div>\n\n        <div className=\"mb-4\">\n          <label className=\"block text-sm font-semibold text-gray-700 mb-1\">\n            Select Chat Mode\n          </label>\n          <select\n            value={chatMode}\n            onChange={(e) => {\n              setChatMode(e.target.value);\n              setSelectedUser(\"\");\n            }}\n            className=\"p-2 border rounded w-full\"\n          >\n            <option value=\"global\">Global Chat</option>\n            <option value=\"private\">One-on-One</option>\n          </select>\n\n          {chatMode === \"private\" && (\n            <select\n              className=\"p-2 border rounded w-full mt-2\"\n              value={selectedUser}\n              onChange={(e) => setSelectedUser(e.target.value)}\n            >\n              <option value=\"\">Select User</option>\n              {users.map((name, idx) => (\n                <option key={idx} value={name}>\n                  {name}\n                </option>\n              ))}\n            </select>\n          )}\n        </div>\n\n        <div className=\"h-80 overflow-y-auto bg-gray-100 p-3 rounded mb-4\" ref={scrollRef}>\n          {messages.map((msg) => (\n            <div\n              key={msg.id}\n              className={`mb-2 flex ${\n                msg.sender === userName ? \"justify-end\" : \"justify-start\"\n              }`}\n            >\n              {msg.sender !== userName && getAvatar(msg.sender)}\n              <div\n                className={`ml-2 p-2 rounded-md ${\n                  msg.sender === userName\n                    ? \"bg-blue-200 text-right\"\n                    : \"bg-gray-200 text-left\"\n                }`}\n                style={{ maxWidth: \"70%\" }}\n              >\n                <div className=\"text-sm font-semibold text-gray-800\">\n                  {msg.sender}\n                </div>\n                <div className=\"text-md\">{msg.text}</div>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {typingUsers.length > 0 && (\n          <div className=\"text-sm text-gray-600 mb-2\">\n            {typingUsers.join(\", \")} typing...\n          </div>\n        )}\n\n        <form onSubmit={handleSend} className=\"flex space-x-2\">\n          <input\n            value={message}\n            onChange={(e) => handleTyping(e.target.value)}\n            placeholder=\"Type your message...\"\n            className=\"flex-1 border rounded p-2\"\n          />\n          <button className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\">\n            Send\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}