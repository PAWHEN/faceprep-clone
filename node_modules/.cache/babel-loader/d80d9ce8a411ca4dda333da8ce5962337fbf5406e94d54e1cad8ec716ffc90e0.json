{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\faceprep-clone\\\\src\\\\pages\\\\XOGame.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { db } from \"../firebase\";\nimport { doc, setDoc, onSnapshot, getDoc, serverTimestamp } from \"firebase/firestore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialBoard = Array(9).fill(null);\nexport default function XOGame() {\n  _s();\n  const [board, setBoard] = useState(initialBoard);\n  const [isX, setIsX] = useState(true);\n  const [gameId, setGameId] = useState(\"global-xo\");\n  const [status, setStatus] = useState(\"Waiting for player...\");\n  const [player, setPlayer] = useState(\"\");\n  const name = localStorage.getItem(\"name\");\n  useEffect(() => {\n    setPlayer(Math.random() > 0.5 ? \"X\" : \"O\");\n    const unsub = onSnapshot(doc(db, \"xo\", gameId), docSnap => {\n      if (docSnap.exists()) {\n        const data = docSnap.data();\n        setBoard(data.board);\n        setIsX(data.isX);\n        setStatus(data.status);\n      }\n    });\n    return () => unsub();\n  }, [gameId]);\n  const makeMove = async index => {\n    if (board[index] || isX && player !== \"X\" || !isX && player !== \"O\") return;\n    const newBoard = [...board];\n    newBoard[index] = isX ? \"X\" : \"O\";\n    const winner = calculateWinner(newBoard);\n    await setDoc(doc(db, \"xo\", gameId), {\n      board: newBoard,\n      isX: !isX,\n      status: winner ? `${winner} wins!` : \"Game in progress...\",\n      updatedAt: serverTimestamp()\n    });\n  };\n  const resetGame = async () => {\n    await setDoc(doc(db, \"xo\", gameId), {\n      board: initialBoard,\n      isX: true,\n      status: \"New game started!\",\n      updatedAt: serverTimestamp()\n    });\n  };\n  const calculateWinner = b => {\n    const lines = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\n    for (const [a, b1, c] of lines) {\n      if (b[a] && b[a] === b[b1] && b[a] === b[c]) return b[a];\n    }\n    return null;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-purple-100 via-yellow-100 to-pink-100 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-md mx-auto bg-white rounded-lg shadow-md p-6 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-purple-700 mb-2\",\n        children: \"Tic-Tac-Toe Game\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mb-4 text-gray-700\",\n        children: [\"You are playing as: \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold\",\n          children: player\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 63\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-3 gap-2 mx-auto w-48\",\n        children: board.map((cell, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"w-16 h-16 text-2xl font-bold bg-purple-200 hover:bg-purple-300 rounded\",\n          onClick: () => makeMove(i),\n          children: cell\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-4 font-semibold text-green-700\",\n        children: status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: resetGame,\n        className: \"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\",\n        children: \"Reset Game\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n_s(XOGame, \"kN1rPJEuE6bH6v52EOnKHGbhY84=\");\n_c = XOGame;\nvar _c;\n$RefreshReg$(_c, \"XOGame\");","map":{"version":3,"names":["useState","useEffect","db","doc","setDoc","onSnapshot","getDoc","serverTimestamp","jsxDEV","_jsxDEV","initialBoard","Array","fill","XOGame","_s","board","setBoard","isX","setIsX","gameId","setGameId","status","setStatus","player","setPlayer","name","localStorage","getItem","Math","random","unsub","docSnap","exists","data","makeMove","index","newBoard","winner","calculateWinner","updatedAt","resetGame","b","lines","a","b1","c","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","cell","i","onClick","_c","$RefreshReg$"],"sources":["C:/Users/hp/Downloads/faceprep-clone/src/pages/XOGame.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { db } from \"../firebase\";\nimport {\n  doc,\n  setDoc,\n  onSnapshot,\n  getDoc,\n  serverTimestamp\n} from \"firebase/firestore\";\n\nconst initialBoard = Array(9).fill(null);\n\nexport default function XOGame() {\n  const [board, setBoard] = useState(initialBoard);\n  const [isX, setIsX] = useState(true);\n  const [gameId, setGameId] = useState(\"global-xo\");\n  const [status, setStatus] = useState(\"Waiting for player...\");\n  const [player, setPlayer] = useState(\"\");\n  const name = localStorage.getItem(\"name\");\n\n  useEffect(() => {\n    setPlayer(Math.random() > 0.5 ? \"X\" : \"O\");\n    const unsub = onSnapshot(doc(db, \"xo\", gameId), (docSnap) => {\n      if (docSnap.exists()) {\n        const data = docSnap.data();\n        setBoard(data.board);\n        setIsX(data.isX);\n        setStatus(data.status);\n      }\n    });\n    return () => unsub();\n  }, [gameId]);\n\n  const makeMove = async (index) => {\n    if (board[index] || (isX && player !== \"X\") || (!isX && player !== \"O\")) return;\n\n    const newBoard = [...board];\n    newBoard[index] = isX ? \"X\" : \"O\";\n    const winner = calculateWinner(newBoard);\n\n    await setDoc(doc(db, \"xo\", gameId), {\n      board: newBoard,\n      isX: !isX,\n      status: winner ? `${winner} wins!` : \"Game in progress...\",\n      updatedAt: serverTimestamp()\n    });\n  };\n\n  const resetGame = async () => {\n    await setDoc(doc(db, \"xo\", gameId), {\n      board: initialBoard,\n      isX: true,\n      status: \"New game started!\",\n      updatedAt: serverTimestamp()\n    });\n  };\n\n  const calculateWinner = (b) => {\n    const lines = [\n      [0,1,2],[3,4,5],[6,7,8],\n      [0,3,6],[1,4,7],[2,5,8],\n      [0,4,8],[2,4,6]\n    ];\n    for (const [a,b1,c] of lines) {\n      if (b[a] && b[a] === b[b1] && b[a] === b[c]) return b[a];\n    }\n    return null;\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-100 via-yellow-100 to-pink-100 p-4\">\n      <div className=\"max-w-md mx-auto bg-white rounded-lg shadow-md p-6 text-center\">\n        <h1 className=\"text-2xl font-bold text-purple-700 mb-2\">Tic-Tac-Toe Game</h1>\n        <p className=\"mb-4 text-gray-700\">You are playing as: <span className=\"font-semibold\">{player}</span></p>\n        <div className=\"grid grid-cols-3 gap-2 mx-auto w-48\">\n          {board.map((cell, i) => (\n            <button\n              key={i}\n              className=\"w-16 h-16 text-2xl font-bold bg-purple-200 hover:bg-purple-300 rounded\"\n              onClick={() => makeMove(i)}\n            >\n              {cell}\n            </button>\n          ))}\n        </div>\n        <p className=\"mt-4 font-semibold text-green-700\">{status}</p>\n        <button\n          onClick={resetGame}\n          className=\"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\n        >\n          Reset Game\n        </button>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}