{"ast":null,"code":"import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{db}from\"../firebase\";import{collection,getDocs,doc,setDoc}from\"firebase/firestore\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function LoginPage(){const[name,setName]=useState(\"\");const navigate=useNavigate();const handleLogin=async()=>{if(!name.trim()){alert(\"Please enter your name.\");return;}const usersSnapshot=await getDocs(collection(db,\"users\"));const existingUser=usersSnapshot.docs.find(doc=>doc.data().name.toLowerCase()===name.trim().toLowerCase());let userId;if(existingUser){userId=existingUser.id;}else{const newUserNumber=usersSnapshot.size+1;userId=\"user\".concat(newUserNumber);await setDoc(doc(db,\"users\",userId),{name:name.trim(),progress:{}});}localStorage.setItem(\"userId\",userId);localStorage.setItem(\"name\",name.trim());navigate(\"/dashboard\");};return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-screen bg-gradient-to-br from-yellow-200 via-pink-200 to-purple-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-10 rounded-lg shadow-xl w-full max-w-md text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold mb-2 text-purple-800\",children:\"Pawan's\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-6 text-gray-700\",children:\"ToDo List \"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Enter your name\",className:\"p-3 border border-gray-300 rounded w-full focus:outline-none focus:ring-2 focus:ring-purple-500\",value:name,onChange:e=>setName(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,className:\"mt-6 w-full py-3 bg-purple-600 text-white font-semibold rounded hover:bg-purple-700 transition\",children:\"Start Exploring\"})]})});}","map":{"version":3,"names":["useState","useNavigate","db","collection","getDocs","doc","setDoc","jsx","_jsx","jsxs","_jsxs","LoginPage","name","setName","navigate","handleLogin","trim","alert","usersSnapshot","existingUser","docs","find","data","toLowerCase","userId","id","newUserNumber","size","concat","progress","localStorage","setItem","className","children","placeholder","value","onChange","e","target","onClick"],"sources":["C:/Users/hp/Downloads/faceprep-clone/src/pages/LoginPage.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { db } from \"../firebase\";\nimport { collection, getDocs, doc, setDoc } from \"firebase/firestore\";\n\nexport default function LoginPage() {\n  const [name, setName] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleLogin = async () => {\n    if (!name.trim()) {\n      alert(\"Please enter your name.\");\n      return;\n    }\n\n    const usersSnapshot = await getDocs(collection(db, \"users\"));\n    const existingUser = usersSnapshot.docs.find(\n      (doc) => doc.data().name.toLowerCase() === name.trim().toLowerCase()\n    );\n\n    let userId;\n\n    if (existingUser) {\n      userId = existingUser.id;\n    } else {\n      const newUserNumber = usersSnapshot.size + 1;\n      userId = `user${newUserNumber}`;\n      await setDoc(doc(db, \"users\", userId), {\n        name: name.trim(),\n        progress: {},\n      });\n    }\n\n    localStorage.setItem(\"userId\", userId);\n    localStorage.setItem(\"name\", name.trim());\n    navigate(\"/dashboard\");\n  };\n\n  return (\n    <div className=\"flex items-center justify-center h-screen bg-gradient-to-br from-yellow-200 via-pink-200 to-purple-200\">\n      <div className=\"bg-white p-10 rounded-lg shadow-xl w-full max-w-md text-center\">\n        <h1 className=\"text-4xl font-bold mb-2 text-purple-800\">Pawan's</h1>\n        <h2 className=\"text-2xl font-semibold mb-6 text-gray-700\">ToDo List </h2>\n        <input\n          placeholder=\"Enter your name\"\n          className=\"p-3 border border-gray-300 rounded w-full focus:outline-none focus:ring-2 focus:ring-purple-500\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n        />\n        <button\n          onClick={handleLogin}\n          className=\"mt-6 w-full py-3 bg-purple-600 text-white font-semibold rounded hover:bg-purple-700 transition\"\n        >\n          Start Exploring\n        </button>\n      </div>\n    </div>\n  );\n}"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,EAAE,KAAQ,aAAa,CAChC,OAASC,UAAU,CAAEC,OAAO,CAAEC,GAAG,CAAEC,MAAM,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtE,cAAe,SAAS,CAAAC,SAASA,CAAA,CAAG,CAClC,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAAAc,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAc,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CAACH,IAAI,CAACI,IAAI,CAAC,CAAC,CAAE,CAChBC,KAAK,CAAC,yBAAyB,CAAC,CAChC,OACF,CAEA,KAAM,CAAAC,aAAa,CAAG,KAAM,CAAAd,OAAO,CAACD,UAAU,CAACD,EAAE,CAAE,OAAO,CAAC,CAAC,CAC5D,KAAM,CAAAiB,YAAY,CAAGD,aAAa,CAACE,IAAI,CAACC,IAAI,CACzChB,GAAG,EAAKA,GAAG,CAACiB,IAAI,CAAC,CAAC,CAACV,IAAI,CAACW,WAAW,CAAC,CAAC,GAAKX,IAAI,CAACI,IAAI,CAAC,CAAC,CAACO,WAAW,CAAC,CACrE,CAAC,CAED,GAAI,CAAAC,MAAM,CAEV,GAAIL,YAAY,CAAE,CAChBK,MAAM,CAAGL,YAAY,CAACM,EAAE,CAC1B,CAAC,IAAM,CACL,KAAM,CAAAC,aAAa,CAAGR,aAAa,CAACS,IAAI,CAAG,CAAC,CAC5CH,MAAM,QAAAI,MAAA,CAAUF,aAAa,CAAE,CAC/B,KAAM,CAAApB,MAAM,CAACD,GAAG,CAACH,EAAE,CAAE,OAAO,CAAEsB,MAAM,CAAC,CAAE,CACrCZ,IAAI,CAAEA,IAAI,CAACI,IAAI,CAAC,CAAC,CACjBa,QAAQ,CAAE,CAAC,CACb,CAAC,CAAC,CACJ,CAEAC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAEP,MAAM,CAAC,CACtCM,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEnB,IAAI,CAACI,IAAI,CAAC,CAAC,CAAC,CACzCF,QAAQ,CAAC,YAAY,CAAC,CACxB,CAAC,CAED,mBACEN,IAAA,QAAKwB,SAAS,CAAC,wGAAwG,CAAAC,QAAA,cACrHvB,KAAA,QAAKsB,SAAS,CAAC,gEAAgE,CAAAC,QAAA,eAC7EzB,IAAA,OAAIwB,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,SAAO,CAAI,CAAC,cACpEzB,IAAA,OAAIwB,SAAS,CAAC,2CAA2C,CAAAC,QAAA,CAAC,YAAU,CAAI,CAAC,cACzEzB,IAAA,UACE0B,WAAW,CAAC,iBAAiB,CAC7BF,SAAS,CAAC,iGAAiG,CAC3GG,KAAK,CAAEvB,IAAK,CACZwB,QAAQ,CAAGC,CAAC,EAAKxB,OAAO,CAACwB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC1C,CAAC,cACF3B,IAAA,WACE+B,OAAO,CAAExB,WAAY,CACrBiB,SAAS,CAAC,gGAAgG,CAAAC,QAAA,CAC3G,iBAED,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}